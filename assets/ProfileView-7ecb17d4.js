import{_ as v}from"./AppHeader.vue_vue_type_script_setup_true_lang-a7092af3.js";import{d as g,b as s,u as x,e as w,c as i,f as b,a as e,i as o,t as _,g as S,h as D,o as m}from"./index-8470c64d.js";const M=c=>new Date(c).toLocaleString("id-ID",{year:"numeric",month:"short",day:"2-digit"}),V={class:"profile | w-full"},B={class:"mt-3 min-h-[500px] max-w-[350px] mx-auto"},C={key:0,class:"profile-data text-center mb-3"},y=e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"64",height:"64",fill:"currentColor",class:"bi bi-person-circle",viewBox:"0 0 16 16"},[e("path",{d:"M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0z"}),e("path",{"fill-rule":"evenodd",d:"M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8zm8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1z"})],-1),z={class:"text-sm text-gray-700"},A=e("h3",{class:"mb-3"},"Latest Scores",-1),N=e("table",{class:"table table-border"},[e("tr",null,[e("th",null,"Mode"),e("th",null,"Map"),e("th",null,"Date"),e("th",null,"Score")])],-1),L=g({__name:"ProfileView",setup(c){const d=s("lari"),h=s("all"),r=x(),p=s([]),l=s(!1),f=()=>{l.value=!0,D(h.value,d.value).then(a=>{var n;p.value=((n=a.data)==null?void 0:n.map(t=>({map:t.map,mode:t.mode,score:t.score,username:t.metadata.username,created_at:t.created_at})))||[],l.value=!1}).catch(a=>{l.value=!1,alert("Error: "+a)})};return w(()=>{f()}),(a,n)=>{var t,u;return m(),i("div",V,[b(v),e("section",B,[o(r).currentUser.value?(m(),i("div",C,[y,e("h1",null,_((u=(t=o(r).currentUser.value)==null?void 0:t.user_metadata)==null?void 0:u.username),1),e("p",z,"Joined "+_(o(M)(o(r).currentUser.value.created_at)),1)])):S("",!0),A,N])])}}});export{L as default};
